.. _task_rul:

#########################
Remaining useful lifetime
#########################

Dataset
"""""""

The dataset includes data generated by the "Commercial Modular Aero-Propulsion 
System Simulation" (C-MAPSS) program. The program was used to simulate the 
behavior of turbofan engine sensors under various flight conditions until failure.
The flight conditions represent situations during ascent and descent to a standard
flight altitude of about 10 km.

The C-MAPSS dataset consists of four subsets of data. Each subset contains readings
from 21 sensors located in different parts of the degrading engine, controlled by
three operational settings characteristics: height, speed, and acceleration in
terms of altitude, Mach number, and throttle resolver angle.

Task
""""

The Remain useful lifetime (RUL) prediction problem is the main formulation of the
C-MAPSS dataset \cite{saxena2008damage} problem, where the Remain useful lifetime
characterizes the remaining length of the degradation trajectory. Because of the 
weak distinguishability of the healthy state, a piece-wise RUL is commonly used as 
the target function. The state is considered healthy above the number RUL equal to
the specific value :math:`V`, and the regression model should return there :math:`V`
as RUL prediction:

.. math::

  \begin{equation}
    RUL=\begin{cases}
      V, & \text{if $RUL \geq V$}\\
      RUL, & \text{if $RUL < V$}.
    \end{cases}
  \end{equation}

Where :math:`V` is an heuristic parameter, and in most cases for the C-MAPSS dataset 
:math:`V = 125` value is used due to previously performed empirical study \cite{heimes2008recurrent}.
The piece-wise RUL example is presented in Fig. \ref{RUL}

.. image:: ../../_static/rul/RUL.png
   :align: center

Metrics
"""""""

The model performance on the C-MAPSS dataset RUL problem was evaluated using RMSE and Score metric 
on the original test dataset. Score and RMSE metrics are:

.. math::

  \begin{equation}
    \begin{aligned}
    \text{Score} &= \sum_{i=1}^{N}  \begin{cases}
    e^{-\frac{\hat{y}_i - y_i}{13}} - 1, & \text{if } \hat{y}_i - y_i < 0 \\
    e^{\frac{\hat{y}_i - y_i}{10}} - 1, & \text{if } \hat{y}_i - y_i \geq 0
    \end{cases} \\
    \end{aligned}
  \end{equation}

.. math::

  \begin{equation}
    RMSE = \sqrt{\frac{1}{N} \sum_{i=1}^{N} (y_i - \hat{y}_i)^2}
  \end{equation}

where :math:`\hat{y}_i` and :math:`y_i` are predicted and true value of RUL for engine :math:`i`,
:math:`N` is number of test samples. The asymmetric Score metric presented in the original paper for 
PHM2008 competition penalizes overestimations in predictions due to maintenance regulations.

References
""""""""""

The reference results of state-of-the-art papers for the original \cite{saxena2008damage} dataset
are presented in table \ref{tab:cmapss-sota-metrics}.

